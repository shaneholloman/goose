// This file is auto-generated by @hey-api/openapi-ts

import { z } from 'zod';

/**
 * Add an extension to an active session.
 * Method: `_agent/extensions/add`
 */
export const zAddExtensionRequest = z.object({
    session_id: z.string(),
    config: z.unknown()
});

/**
 * Empty success response for operations that return no data.
 */
export const zEmptyResponse = z.record(z.unknown());

/**
 * Remove an extension from an active session.
 * Method: `_agent/extensions/remove`
 */
export const zRemoveExtensionRequest = z.object({
    session_id: z.string(),
    name: z.string()
});

/**
 * List all tools available in a session.
 * Method: `_agent/tools`
 */
export const zGetToolsRequest = z.object({
    session_id: z.string()
});

export const zGetToolsResponse = z.object({
    tools: z.array(z.unknown())
});

/**
 * Read a resource from an extension.
 * Method: `_agent/resource/read`
 */
export const zReadResourceRequest = z.object({
    session_id: z.string(),
    uri: z.string(),
    extension_name: z.string()
});

export const zReadResourceResponse = z.object({
    result: z.unknown()
});

/**
 * Update the working directory for a session.
 * Method: `_agent/working_dir/update`
 */
export const zUpdateWorkingDirRequest = z.object({
    session_id: z.string(),
    working_dir: z.string()
});

/**
 * List all sessions.
 * Method: `_session/list`
 */
export const zListSessionsResponse = z.object({
    sessions: z.array(z.unknown())
});

/**
 * Get a session by ID.
 * Method: `_session/get`
 */
export const zGetSessionRequest = z.object({
    session_id: z.string(),
    include_messages: z.boolean().optional().default(false)
});

/**
 * Get a session response.
 */
export const zGetSessionResponse = z.object({
    session: z.unknown()
});

/**
 * Delete a session.
 * Method: `_session/delete`
 */
export const zDeleteSessionRequest = z.object({
    session_id: z.string()
});

/**
 * Export a session as a JSON string.
 * Method: `_session/export`
 */
export const zExportSessionRequest = z.object({
    session_id: z.string()
});

export const zExportSessionResponse = z.object({
    data: z.string()
});

/**
 * Import a session from a JSON string.
 * Method: `_session/import`
 */
export const zImportSessionRequest = z.object({
    data: z.string()
});

export const zImportSessionResponse = z.object({
    session: z.unknown()
});

/**
 * List configured extensions and any warnings.
 * Method: `_config/extensions`
 */
export const zGetExtensionsResponse = z.object({
    extensions: z.array(z.unknown()),
    warnings: z.array(z.string())
});

export const zExtRequest = z.object({
    id: z.string(),
    method: z.string(),
    params: z.union([
        z.union([
            zAddExtensionRequest,
            zRemoveExtensionRequest,
            zGetToolsRequest,
            zReadResourceRequest,
            zUpdateWorkingDirRequest,
            zGetSessionRequest,
            zDeleteSessionRequest,
            zExportSessionRequest,
            zImportSessionRequest
        ]),
        z.union([
            z.record(z.unknown()),
            z.null()
        ])
    ]).optional()
});

export const zExtResponse = z.union([
    z.object({
        id: z.string(),
        result: z.union([
            z.union([
                zEmptyResponse,
                zGetToolsResponse,
                zReadResourceResponse,
                zListSessionsResponse,
                zGetSessionResponse,
                zExportSessionResponse,
                zImportSessionResponse,
                zGetExtensionsResponse
            ]),
            z.unknown()
        ]).optional()
    }),
    z.object({
        error: z.object({
            code: z.number().int(),
            message: z.string(),
            data: z.unknown().optional()
        }),
        id: z.string()
    })
]);
